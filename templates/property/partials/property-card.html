{% load static %}
{% load currency %}
{% load percentage %}
{% load comma %}

<style>
    /* #property-card {
    -webkit-animation: cubic-bezier(0.075, 0.82, 0.165, 1);
    -webkit-animation-name: run;
    -webkit-animation-duration: .8s;
    }

    @-webkit-keyframes run {
    0% {
        left: 0;
    }
    50% { 
        left: calc(100% - 100px); 
    }
    100% {
        left: 100;     
    }
    } */
</style>

{% comment %} <a href="{% url "property-detial" property_id=property.id %}"> {% endcomment %}
<div name="property-card" id='property-card' class="card w-100" style="display: inline-block;">
    <img src="{% static property.cover_image_url %}" class="card-img-top" alt="...">
    <div class="card-body text-wrap">
        <h5 class="card-title" style="font-weight:600; font-size:1.5rem">{{ property.price|currency:0 }}</h5>
        <p class="card-subtitle mb-2" style="font-size:1rem;">
            Cap: <strong >{{ property.cap_rate|percentage }}</strong>&ensp;|&ensp;
            bds: <strong>{{ property.bedrooms }}</strong>&ensp;|&ensp;
            br: <strong>{{ property.bathrooms }}</strong>&ensp;|&ensp;
            <strong>{{ property.area|comma }} sqft.</strong>
        </p>
        <h6 class="card-subtitle mb-2" style="font-size:1rem;">{{ property.address }}</h6>
        <p class="card-text text-muted" style="font-size:.8rem;">This is a short description of the property.</p>  
    </div>
    <div class="d-flex justify-content-center py-3">
        <button 
        id="dislike-button" 
        class="btn btn-lg btn-outline-light mx-2"
        hx-post="{% url 'explore' %}"
        hx-vals='{ "property_id": "{{ property.id }}", "action": "hide", "index": "{{ index }}" }'
        hx-target="#property-card"
        hx-swap="outerHTML"
        >
            {% include "icons/x.html" %}
            Hide
        </button>
        <a 
        type="button" 
        class="btn btn-lg btn-outline-light mx-2" 
        href="{% url 'property-detial' property_id=property.id %}"
        >
            {% include "icons/eye.html" %}
            View
        </a>
        <button 
        id="save-button" 
        class="btn btn-lg btn-outline-light mx-2"
        hx-post="{% url 'explore' %}"
        hx-vals='{ "property_id": "{{ property.id }}", "action": "save", "index": "{{ index }}" }'
        hx-target="#property-card"
        hx-swap="outerHTML"
        >
            {% include "icons/heart.html" %}
            Save
        </button>
    </div>
</div>
{% comment %} </a> {% endcomment %}